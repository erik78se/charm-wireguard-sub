get-public-key:
  description: Returns the public key

up:
  description: Starts and enable VPN

down:
  description: Stop and disable VPN

add-peer:
  description: Adds a peer and then restarts the wireguard service.
  params:
    publickey:
      description: "PublicKey of the peer"
      type: string
    endpoint:
      description: | 
        "An endpoint IP or hostname, followed by a colon, and then a port number. This endpoint 
        will be updated automatically to the most recent source IP address and port of correctly authenticated 
        packets from the peer."
      type: string
    allowedips:
      type: string
      description: | 
        "A comma-separated list of IP (v4 or v6) addresses with CIDR masks from which incoming traffic
        for this peer is allowed and to which outgoing traffic for this peer is directed/routed. 
        The catch-all 0.0.0.0/0 may be specified for matching all IPv4 addresses, and ::/0 may be specified 
        for matching all IPv6 addresses. May be specified multiple times."
    persistentkeepalive:
      type: integer
      description: | 
        "(Optional) A seconds interval, between 1 and 65535 inclusive, of how often to send an authenticated empty packet to the peer 
        for the purpose of keeping a stateful firewall or NAT mapping valid persistently. 
        For example, if the interface very rarely sends traffic, 
        but it might at anytime receive traffic from a peer, and it is behind NAT, 
        the interface might benefit from having a persistent keepalive interval of 25 seconds. If set to 0, 
        this option is disabled. 
        By default or when unspecified, this option is off. Most users will not need this."
    presharedkey:
      type: string
      description: |
        "(Optional) A base64 preshared key generated by wg genpsk. Optional, and may be omitted. 
        This option adds an additional layer of symmetric-key cryptography to be mixed into the already existing public-key
         cryptography, for post-quantum resistance. Optional."

  required: [ publickey, endpoint, allowedips ]

remove-peer:
  description: Removes a peer and then restarts the wireguard service.
  params:
    PublicKey:
      description: "public key of the peer to remove"
      type: string
  required: [ publickey ]

show-peers:
  description: Show the peers active in the config.
  params: {}